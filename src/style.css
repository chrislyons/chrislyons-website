@tailwind base;
@tailwind components;
@tailwind utilities;

/* HK Grotesk Font-Face Declarations */

@font-face {
  font-family: 'HK Grotesk';
  src: url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-Regular.woff2') format('woff2'),
       url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-Regular.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'HK Grotesk';
  src: url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-Medium.woff2') format('woff2'),
       url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-Medium.woff') format('woff');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'HK Grotesk';
  src: url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-SemiBold.woff2') format('woff2'),
       url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-SemiBold.woff') format('woff');
  font-weight: 600;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'HK Grotesk';
  src: url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-Bold.woff2') format('woff2'),
       url('/fonts/HKGrotesk_3003/WEB/HKGrotesk-Bold.woff') format('woff');
  font-weight: 700;
  font-style: normal;
  font-display: swap;
}

/* ============================================
   CSS CUSTOM PROPERTIES - THEME VARIABLES
   ============================================ */

/* Daylight Theme (Light Mode) - Default
 * Migrated to OKLCH for perceptual uniformity
 * L: Lightness (0-100%)
 * C: Chroma/saturation (0-0.4)
 * H: Hue angle (0-360deg)
 */
:root,
[data-theme="daylight"] {
  /* Body */
  --bg-body: oklch(100% 0 0);                    /* Pure white */
  --text-body: oklch(20% 0.01 260);              /* Near-black with slight blue tint */

  /* Cards */
  --bg-card: oklch(100% 0 0);                    /* Pure white */
  --border-card: oklch(92% 0.005 260);           /* Light gray border */
  --text-card: oklch(20% 0.01 260);              /* Near-black */

  /* Dropdowns */
  --bg-dropdown: oklch(100% 0 0);                /* White */
  --border-dropdown: oklch(92% 0.005 260);       /* Light gray */
  --text-dropdown: oklch(20% 0.01 260);          /* Near-black */
  --bg-dropdown-hover: oklch(97% 0.003 260);     /* Subtle gray hover */

  /* Links */
  --text-link: oklch(55% 0.18 265);              /* Blue - perceptually balanced */
  --text-link-hover: oklch(48% 0.2 265);         /* Darker blue hover */

  /* Typography */
  --text-heading: oklch(20% 0.01 260);           /* Near-black */
  --text-gray-700: oklch(35% 0.02 260);          /* Dark gray */
  --text-gray-600: oklch(45% 0.02 260);          /* Medium-dark gray */
  --text-gray-800: oklch(25% 0.015 260);         /* Very dark gray */
  --text-gray-900: oklch(20% 0.01 260);          /* Near-black */
  --text-primary: oklch(55% 0.18 265);           /* Blue primary */
  --text-secondary: oklch(50% 0.2 280);          /* Indigo secondary */

  /* Backgrounds */
  --bg-white: oklch(100% 0 0);                   /* Pure white */
  --bg-gray-50: oklch(98% 0.002 260);            /* Very light gray */
  --bg-gray-100: oklch(97% 0.003 260);           /* Light gray */

  /* Borders */
  --border-gray-200: oklch(92% 0.005 260);       /* Light border */

  /* Navigation */
  --bg-nav: oklch(100% 0 0);                     /* White */
  --border-nav: oklch(92% 0.005 260);            /* Light border */

  /* Blog Button */
  --bg-blog-btn: oklch(55% 0.18 265);            /* Blue */
  --text-blog-btn: oklch(100% 0 0);              /* White text */
  --bg-blog-btn-hover: oklch(48% 0.2 265);       /* Darker blue hover */
  --ring-blog-btn: oklch(55% 0.18 265);          /* Blue ring */

  /* Primary Button */
  --bg-btn-primary: oklch(55% 0.18 265);         /* Blue */
  --text-btn-primary: oklch(100% 0 0);           /* White text */
  --bg-btn-primary-hover: oklch(48% 0.2 265);    /* Darker blue hover */

  /* GitHub Icon */
  --text-github-icon: oklch(55% 0.18 265);       /* Blue */
  --text-github-icon-hover: oklch(48% 0.2 265);  /* Darker blue hover */
  --bg-github-icon-hover: oklch(97% 0.02 265 / 0.5); /* Subtle blue bg */
}

/* Moonlight Theme (Dark Mode) - Navy Blue */
[data-theme="moonlight"],
.dark {
  /* Body */
  --bg-body: #1a1f2e;
  --text-body: #e4e4e7;

  /* Cards */
  --bg-card: #252b3b;
  --border-card: #3a4255;
  --text-card: #e4e4e7;

  /* Dropdowns */
  --bg-dropdown: #252b3b;
  --border-dropdown: #3a4255;
  --text-dropdown: #e4e4e7;
  --bg-dropdown-hover: #2d3449;

  /* Links */
  --text-link: #60a5fa;
  --text-link-hover: #93c5fd;

  /* Typography */
  --text-heading: #f4f4f5;
  --text-gray-700: #d4d4d8;
  --text-gray-600: #a1a1aa;
  --text-gray-800: #e4e4e7;
  --text-gray-900: #f4f4f5;
  --text-primary: #60a5fa;
  --text-secondary: #818cf8;

  /* Backgrounds */
  --bg-white: #252b3b;
  --bg-gray-50: #1e2433;
  --bg-gray-100: #252b3b;

  /* Borders */
  --border-gray-200: #3a4255;

  /* Navigation */
  --bg-nav: #1e2433;
  --border-nav: #3a4255;

  /* Blog Button */
  --bg-blog-btn: #60a5fa;
  --text-blog-btn: #1a1f2e;
  --bg-blog-btn-hover: #93c5fd;
  --ring-blog-btn: #60a5fa;

  /* Primary Button */
  --bg-btn-primary: #60a5fa;
  --text-btn-primary: #1a1f2e;
  --bg-btn-primary-hover: #93c5fd;

  /* GitHub Icon */
  --text-github-icon: #60a5fa;
  --text-github-icon-hover: #93c5fd;
  --bg-github-icon-hover: rgba(96, 165, 250, 0.1);
}

/* Forest Theme - Dark Green */
[data-theme="forest"] {
  /* Body */
  --bg-body: #1a2e1f;
  --text-body: #e7f4e4;

  /* Cards */
  --bg-card: #253b2e;
  --border-card: #3a5544;
  --text-card: #e7f4e4;

  /* Dropdowns */
  --bg-dropdown: #253b2e;
  --border-dropdown: #3a5544;
  --text-dropdown: #e7f4e4;
  --bg-dropdown-hover: #2d4537;

  /* Links */
  --text-link: #86efac;
  --text-link-hover: #bbf7d0;

  /* Typography */
  --text-heading: #f0fdf4;
  --text-gray-700: #d4e8d8;
  --text-gray-600: #a8c9af;
  --text-gray-800: #e7f4e4;
  --text-gray-900: #f0fdf4;
  --text-primary: #4ade80;
  --text-secondary: #86efac;

  /* Backgrounds */
  --bg-white: #253b2e;
  --bg-gray-50: #1e3328;
  --bg-gray-100: #253b2e;

  /* Borders */
  --border-gray-200: #3a5544;

  /* Navigation */
  --bg-nav: #1e3328;
  --border-nav: #3a5544;

  /* Blog Button */
  --bg-blog-btn: #4ade80;
  --text-blog-btn: #1a2e1f;
  --bg-blog-btn-hover: #86efac;
  --ring-blog-btn: #4ade80;

  /* Primary Button */
  --bg-btn-primary: #4ade80;
  --text-btn-primary: #1a2e1f;
  --bg-btn-primary-hover: #86efac;

  /* GitHub Icon */
  --text-github-icon: #4ade80;
  --text-github-icon-hover: #86efac;
  --bg-github-icon-hover: rgba(74, 222, 128, 0.1);
}

/* Beach Theme - Warm Gold-Yellow-Blue */
[data-theme="beach"] {
  /* Body */
  --bg-body: #fef8e8;
  --text-body: #2d3e50;

  /* Cards */
  --bg-card: #fef8e8;
  --border-card: #e8d5a8;
  --text-card: #2d3e50;

  /* Dropdowns */
  --bg-dropdown: #fef8e8;
  --border-dropdown: #e8d5a8;
  --text-dropdown: #2d3e50;
  --bg-dropdown-hover: #fef3d0;

  /* Links */
  --text-link: #0891b2;
  --text-link-hover: #ff6b8a;

  /* Typography */
  --text-heading: #0c4a6e;
  --text-gray-700: #475569;
  --text-gray-600: #64748b;
  --text-gray-800: #334155;
  --text-gray-900: #1e293b;
  --text-primary: #0891b2;
  --text-secondary: #d97706;
  --text-accent: #ff6b8a;

  /* Backgrounds */
  --bg-white: #fef8e8;
  --bg-gray-50: #fef3d0;
  --bg-gray-100: #fef0c7;

  /* Borders */
  --border-gray-200: #e8d5a8;

  /* Navigation */
  --bg-nav: #fef3d0;
  --border-nav: #e8d5a8;

  /* Blog Button */
  --bg-blog-btn: #0891b2;
  --text-blog-btn: #ffffff;
  --bg-blog-btn-hover: #ff6b8a;
  --ring-blog-btn: #ff6b8a;

  /* Primary Button */
  --bg-btn-primary: #0891b2;
  --text-btn-primary: #ffffff;
  --bg-btn-primary-hover: #06b6d4;

  /* GitHub Icon */
  --text-github-icon: #0891b2;
  --text-github-icon-hover: #ff6b8a;
  --bg-github-icon-hover: rgba(255, 107, 138, 0.05);

  /* Accent */
  --bg-accent: #ff6b8a;
  --border-accent: #ff6b8a;
}

/* Plum Theme - Purple/Fuchsia Light */
[data-theme="plum"] {
  /* Body */
  --bg-body: #faf5ff;
  --text-body: #581c87;

  /* Cards */
  --bg-card: #faf5ff;
  --border-card: #d8b4fe;
  --text-card: #581c87;

  /* Dropdowns */
  --bg-dropdown: #faf5ff;
  --border-dropdown: #d8b4fe;
  --text-dropdown: #581c87;
  --bg-dropdown-hover: #f3e8ff;

  /* Links */
  --text-link: #c026d3;
  --text-link-hover: #e879f9;

  /* Typography */
  --text-heading: #6b21a8;
  --text-gray-700: #7c3aed;
  --text-gray-600: #a78bfa;
  --text-gray-800: #581c87;
  --text-gray-900: #4c1d95;
  --text-primary: #a855f7;
  --text-secondary: #d946ef;
  --text-accent: #e879f9;

  /* Backgrounds */
  --bg-white: #faf5ff;
  --bg-gray-50: #f3e8ff;
  --bg-gray-100: #e9d5ff;

  /* Borders */
  --border-gray-200: #d8b4fe;

  /* Navigation */
  --bg-nav: #f3e8ff;
  --border-nav: #d8b4fe;

  /* Blog Button */
  --bg-blog-btn: #a855f7;
  --text-blog-btn: #ffffff;
  --bg-blog-btn-hover: #d946ef;
  --ring-blog-btn: #d946ef;

  /* Primary Button */
  --bg-btn-primary: #a855f7;
  --text-btn-primary: #ffffff;
  --bg-btn-primary-hover: #c084fc;

  /* GitHub Icon */
  --text-github-icon: #a855f7;
  --text-github-icon-hover: #d946ef;
  --bg-github-icon-hover: rgba(168, 85, 247, 0.05);

  /* Accent */
  --bg-accent: #e879f9;
  --border-accent: #e879f9;
}

/* Char Theme - Dark Burnt Orange/Ember */
[data-theme="char"] {
  /* Body */
  --bg-body: #4a2c14;
  --text-body: #fef3d0;

  /* Cards */
  --bg-card: #5a3820;
  --border-card: #7a4a30;
  --text-card: #fef3d0;

  /* Dropdowns */
  --bg-dropdown: #5a3820;
  --border-dropdown: #7a4a30;
  --text-dropdown: #fef3d0;
  --bg-dropdown-hover: #6a4228;

  /* Links */
  --text-link: #fb923c;
  --text-link-hover: #fbbf24;

  /* Typography */
  --text-heading: #fef3d0;
  --text-gray-700: #fed7aa;
  --text-gray-600: #fdba74;
  --text-gray-800: #fef3d0;
  --text-gray-900: #fffbeb;
  --text-primary: #fb923c;
  --text-secondary: #f97316;
  --text-accent: #dc2626;

  /* Backgrounds */
  --bg-white: #5a3820;
  --bg-gray-50: #3d2414;
  --bg-gray-100: #5a3820;

  /* Borders */
  --border-gray-200: #7a4a30;

  /* Navigation */
  --bg-nav: #5a3820;
  --border-nav: #7a4a30;

  /* Blog Button */
  --bg-blog-btn: #fb923c;
  --text-blog-btn: #4a2c14;
  --bg-blog-btn-hover: #dc2626;
  --text-blog-btn-hover: #fef3d0;
  --ring-blog-btn: #dc2626;

  /* Primary Button */
  --bg-btn-primary: #fb923c;
  --text-btn-primary: #4a2c14;
  --bg-btn-primary-hover: #f97316;

  /* GitHub Icon */
  --text-github-icon: #fb923c;
  --text-github-icon-hover: #dc2626;
  --bg-github-icon-hover: rgba(220, 38, 38, 0.1);

  /* Accent */
  --bg-accent: #dc2626;
  --border-accent: #dc2626;
}

/* ============================================
   BASE STYLES
   ============================================ */

@layer base {
  * {
    @apply box-border;
  }

  html {
    @apply scroll-smooth;
  }

  body {
    @apply font-sans text-lg antialiased;
    background-color: var(--bg-body);
    color: var(--text-body);
    min-height: 100vh;
    font-feature-settings: "ss02";
    transition: background-color 0.4s ease, color 0.4s ease;
  }

  /* Accessible focus styles */
  *:focus-visible {
    @apply outline-2 outline-offset-2 outline-secondary;
  }

  /* Skip to main content link for screen readers */
  .skip-link {
    @apply absolute -top-10 left-0 bg-primary text-white px-4 py-2 z-50;
    @apply focus:top-0;
  }
}

/* ============================================
   COMPONENT STYLES
   ============================================ */

@layer components {
  /* Responsive Container */
  .container-custom {
    @apply w-full mx-auto px-4 sm:px-6 lg:px-8;
    max-width: 1200px;
  }

  /* Button Base */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-md font-medium;
    @apply transition-colors duration-200;
    @apply focus:outline-none focus:ring-2 focus:ring-offset-2;
  }

  .btn-primary {
    @apply btn transition-all duration-200;
    background-color: var(--bg-btn-primary);
    color: var(--text-btn-primary);
  }

  .btn-primary:hover {
    background-color: var(--bg-btn-primary-hover);
    transform: translateY(-1px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  }

  [data-theme="moonlight"] .btn-primary:hover,
  .dark .btn-primary:hover,
  [data-theme="forest"] .btn-primary:hover,
  [data-theme="char"] .btn-primary:hover {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
  }

  .btn-secondary {
    @apply btn bg-secondary text-white hover:bg-opacity-90 focus:ring-secondary;
  }

  /* Card Component with Visual Materiality */
  .card {
    @apply rounded-lg shadow-md p-6 transition-shadow duration-200 hover:shadow-lg;
    background: radial-gradient(
      circle at 30% 20%,
      color-mix(in oklch, var(--bg-card), white 3%),
      var(--bg-card)
    );
    border: 1px solid var(--border-card);
    color: var(--text-card);
    position: relative;
  }

  /* Subtle noise texture for materiality */
  .card::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.015'/%3E%3C/svg%3E");
    pointer-events: none;
    mix-blend-mode: overlay;
  }

  /* Dropdown Menu Styles */
  .dropdown-menu {
    background-color: var(--bg-dropdown);
    border-color: var(--border-dropdown);
    color: var(--text-dropdown);
  }

  .dropdown-item:hover {
    background-color: var(--bg-dropdown-hover);
  }

  /* Link Styles */
  .link {
    @apply underline;
    @apply focus:outline-none focus:ring-2 focus:ring-secondary focus:ring-offset-2;
    color: var(--text-link);
  }

  .link:hover {
    color: var(--text-link-hover);
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    color: var(--text-heading);
  }

  .text-gray-700 {
    color: var(--text-gray-700);
  }

  .text-gray-600 {
    color: var(--text-gray-600);
  }

  .text-gray-800 {
    color: var(--text-gray-800);
  }

  .text-gray-900 {
    color: var(--text-gray-900);
  }

  .text-primary {
    color: var(--text-primary);
  }

  .text-secondary {
    color: var(--text-secondary);
  }

  /* Accent text for beach, plum, char themes */
  .text-accent {
    color: var(--text-accent);
  }

  /* Background overrides */
  .bg-white {
    background-color: var(--bg-white);
  }

  .bg-gray-50 {
    background-color: var(--bg-gray-50);
  }

  .bg-gray-100 {
    background-color: var(--bg-gray-100);
  }

  /* Border overrides */
  .border-gray-200 {
    border-color: var(--border-gray-200);
  }

  /* Navigation */
  nav {
    background-color: var(--bg-nav);
    border-bottom-color: var(--border-nav);
  }

  /* Accent backgrounds for beach, plum, char themes */
  .bg-accent {
    background-color: var(--bg-accent);
  }

  .border-accent {
    border-color: var(--border-accent);
  }

  /* Blog Button */
  .blog-button {
    @apply inline-block px-8 py-3 text-lg font-semibold rounded-lg transition-all duration-200 shadow-md hover:shadow-lg focus:outline-none focus:ring-2 focus:ring-offset-2;
    background-color: var(--bg-blog-btn);
    color: var(--text-blog-btn);
    border: 2px solid transparent;
  }

  .blog-button:hover {
    background-color: var(--bg-blog-btn-hover);
    transform: translateY(-2px);
  }

  /* Special case for char theme blog button hover text color change */
  [data-theme="char"] .blog-button:hover {
    color: var(--text-blog-btn-hover);
  }

  .blog-button:focus {
    ring-color: var(--ring-blog-btn);
  }

  /* GitHub Icon Link */
  .github-icon-link {
    @apply inline-flex items-center justify-center p-2 ml-2 rounded-lg transition-all duration-200 hover:shadow-md focus:outline-none focus:ring-2 focus:ring-offset-2;
    align-self: center;
    color: var(--text-github-icon);
  }

  .github-icon-link:hover {
    color: var(--text-github-icon-hover);
    background-color: var(--bg-github-icon-hover);
  }

  .github-icon {
    @apply transition-transform duration-200;
  }

  .github-icon-link:hover .github-icon {
    @apply scale-110;
  }

  /* Screen Reader Only */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  /* Copy Protection for Lyrics */
  .lyrics-protected {
    /* Disable text selection */
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;

    /* Disable dragging */
    -webkit-user-drag: none;

    /* Add visual indicator that content is protected (subtle) */
    cursor: default;

    /* Prevent highlighting on touch devices */
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
  }

  /* Disable selection on child elements too */
  .lyrics-protected * {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
  }
}

/* ============================================
   UTILITY STYLES
   ============================================ */

@layer utilities {
  /* Animation Utilities */
  .fade-in {
    opacity: 0;
    animation: fadeIn 1.2s ease-in;
    animation-fill-mode: both;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .slide-in {
    animation: slideIn 0.3s ease-out;
  }

  @keyframes slideIn {
    from {
      transform: translateX(-10px);
      opacity: 0;
    }
    to {
      transform: translateX(0);
      opacity: 1;
    }
  }
}
