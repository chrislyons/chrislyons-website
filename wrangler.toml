# Cloudflare Workers Configuration
# Worker name: hey

name = "hey"
compatibility_date = "2024-11-01"
main = "src/worker.ts"

# Development settings
[dev]
port = 8787
local_protocol = "http"

# D1 Database for blog entries
[[d1_databases]]
binding = "DB"
database_name = "blog-db"
database_id = "741a89af-1617-491f-991b-0bde7cf81d69"

# R2 Bucket for blog images (disabled until API token permissions are configured)
# [[r2_buckets]]
# binding = "BLOG_IMAGES"
# bucket_name = "blog-images"

# Secrets (set with: npx wrangler secret put SECRET_NAME)
# GIPHY_API_KEY - Giphy API key for GIF search
# ADMIN_USERNAME - Admin panel username
# ADMIN_PASSWORD - Admin panel password (use a strong password!)
#
# Example setup:
#   npx wrangler secret put ADMIN_USERNAME
#   npx wrangler secret put ADMIN_PASSWORD
#   npx wrangler secret put GIPHY_API_KEY

[build]
command = "npm run build"

# Modern assets configuration (replaces deprecated [site])
[assets]
directory = "./dist"
binding = "ASSETS"
